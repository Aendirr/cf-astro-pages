---
import type { Language } from '@/types';
import { t } from '@/lib/utils';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
---

<section class="bg-gradient-to-r from-primary-600 to-primary-700 rounded-2xl p-8 md:p-12 my-12">
  <div class="max-w-3xl mx-auto text-center">
    <h3 class="text-2xl md:text-3xl font-display font-bold text-white mb-4">
      {t(lang, 'subscribe')}
    </h3>
    <p class="text-primary-100 mb-8 text-lg">
      {t(lang, 'subscribeCta')}
    </p>

    <form class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto" onsubmit="return false;">
      <input
        type="email"
        placeholder={t(lang, 'emailPlaceholder')}
        required
        class="flex-1 px-5 py-3 rounded-lg border-2 border-transparent focus:border-white focus:outline-none text-neutral-900 placeholder-neutral-500"
        aria-label={t(lang, 'emailPlaceholder')}
      />
      <button
        type="submit"
        class="px-8 py-3 bg-white text-primary-700 font-semibold rounded-lg hover:bg-primary-50 transition-colors shadow-lg hover:shadow-xl"
      >
        {t(lang, 'subscribe')}
      </button>
    </form>

    <p class="text-primary-100 text-sm mt-4">
      {/* Add privacy notice here if needed */}
    </p>
  </div>
</section>

<script>
  // Handle newsletter subscription (client-side placeholder)
  const forms = document.querySelectorAll('form[onsubmit="return false;"]');
  forms.forEach(form => {
    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const input = form.querySelector('input[type="email"]') as HTMLInputElement;
      if (input && input.value) {
        alert('Newsletter subscription functionality not yet implemented. Email: ' + input.value);
        input.value = '';
      }
    });
  });
</script>
